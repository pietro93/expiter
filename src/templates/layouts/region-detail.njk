{% extends "layouts/base.njk" %}

{# Region Detail Layout - Extends base.njk for Italian regions #}

{% block content %}
<main role="main" aria-label="Region content">
  
  {# Breadcrumbs Navigation #}
  {% include "partials/breadcrumbs.njk" %}
  
  {# Hero Section with Background Image #}
  <section class="hero is-medium" style="background: linear-gradient(rgba(0,0,0,0.3), rgba(0,0,0,0.3)), url('/img/regions/{{ region.slug }}.jpg') center/cover;" aria-label="Region hero">
    <div class="hero-body">
      <div class="container has-text-centered">
        <h1 class="title is-1 has-text-white">{{ region.name }}</h1>
        <p class="subtitle is-4 has-text-white">{{ region.tagline }}</p>
      </div>
    </div>
  </section>

  {# Quick Stats Section #}
  <section class="section has-background-light" aria-labelledby="region-stats">
    <div class="container">
      <h2 id="region-stats" class="title is-3">Key Statistics</h2>
      <div class="columns is-multiline">
        <div class="column is-full-mobile is-half-tablet is-one-fifth-desktop">
          <div class="box has-text-centered">
            <p class="heading">Population</p>
            <p class="title is-4">{{ region.population | formatNumber }}</p>
          </div>
        </div>
        <div class="column is-full-mobile is-half-tablet is-one-fifth-desktop">
          <div class="box has-text-centered">
            <p class="heading">Area (kmÂ²)</p>
            <p class="title is-4">{{ region.area | round(0) }}</p>
          </div>
        </div>
        <div class="column is-full-mobile is-half-tablet is-one-fifth-desktop">
          <div class="box has-text-centered">
            <p class="heading">Provinces</p>
            <p class="title is-4">{{ region.provinceCount }}</p>
          </div>
        </div>
        <div class="column is-full-mobile is-half-tablet is-one-fifth-desktop">
          <div class="box has-text-centered">
            <p class="heading">Capital</p>
            <p class="title is-5">{{ region.capital }}</p>
          </div>
        </div>
        <div class="column is-full-mobile is-half-tablet is-one-fifth-desktop">
          <div class="box has-text-centered">
            <p class="heading">Region Code</p>
            <p class="title is-5">{{ region.code }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  {# Main Content Tabs #}
  <section class="section" aria-labelledby="region-content">
    <div class="container">
      <h2 id="region-content" class="title is-3">Region Information</h2>
      
      <div class="tabs is-boxed is-fullwidth">
        <ul>
          <li class="is-active" data-tab="overview">
            <a><span class="icon is-small"><i class="fas fa-map"></i></span><span>Overview</span></a>
          </li>
          <li data-tab="provinces">
            <a><span class="icon is-small"><i class="fas fa-city"></i></span><span>Provinces</span></a>
          </li>
          <li data-tab="economy">
            <a><span class="icon is-small"><i class="fas fa-briefcase"></i></span><span>Economy</span></a>
          </li>
          <li data-tab="culture">
            <a><span class="icon is-small"><i class="fas fa-theater-masks"></i></span><span>Culture</span></a>
          </li>
        </ul>
      </div>

      {# Overview Tab #}
      <div id="overview" class="tab-content is-active" role="tabpanel" aria-labelledby="tab-overview">
        {% include "partials/region-overview-section.njk" %}
      </div>

      {# Provinces Tab #}
      <div id="provinces" class="tab-content" role="tabpanel" aria-labelledby="tab-provinces">
        {% include "partials/region-provinces-section.njk" %}
      </div>

      {# Economy Tab #}
      <div id="economy" class="tab-content" role="tabpanel" aria-labelledby="tab-economy">
        {% include "partials/region-economy-section.njk" %}
      </div>

      {# Culture Tab #}
      <div id="culture" class="tab-content" role="tabpanel" aria-labelledby="tab-culture">
        {% include "partials/region-culture-section.njk" %}
      </div>
    </div>
  </section>

  {# Quality Metrics Comparison #}
  <section class="section has-background-light" aria-labelledby="region-metrics">
    <div class="container">
      <h2 id="region-metrics" class="title is-3">Quality Metrics</h2>
      {% include "partials/region-quality-metrics.njk" %}
    </div>
  </section>

  {# Related Regions Section #}
  <section class="section" aria-labelledby="related-regions">
    <div class="container">
      <h2 id="related-regions" class="title is-3">Similar Regions</h2>
      {% include "partials/related-regions.njk" %}
    </div>
  </section>

  {# Call to Action #}
  <section class="section has-background-info-light" aria-labelledby="region-cta">
    <div class="container">
      <div class="box has-text-centered">
        <h2 id="region-cta" class="title is-4">Explore {{ region.name }} Further</h2>
        <p class="mb-4">Discover the beauty, culture, and opportunities that make {{ region.name }} a unique destination in Italy.</p>
        <div class="buttons is-centered">
          <a href="#" class="button is-info is-medium">
            <span class="icon"><i class="fas fa-download"></i></span>
            <span>Download Regional Guide</span>
          </a>
          <a href="#" class="button is-light is-medium">
            <span class="icon"><i class="fas fa-map"></i></span>
            <span>View Interactive Map</span>
          </a>
        </div>
      </div>
    </div>
  </section>

</main>
{% endblock %}
